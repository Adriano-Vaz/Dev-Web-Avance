<div class="mt-10 flex flex-col gap-3 h-full w-full -z-50 text-white">
  <div class="w-11/12 mx-auto">Devices under <span class="font-bold">{{currentUser}}</span>'s management</div>
  <p-table
    [value]="devices"
    [rows]="10"
    [paginator]="true"
    [globalFilterFields]="['name','type','network','ip','brand','ports']"
    class="w-11/12 mx-auto pt-2 pb-8 px-5 rounded bg-gray-500 border border-gray-300"
    [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr class="font-extrabold">
        <th pSortableColumn="name"><div class="inline-flex"><div class="mx-2 pb-2">Name</div><p-sortIcon field="name"></p-sortIcon></div></th>
        <th pSortableColumn="type"><div class="inline-flex"><div class="mx-2 pb-2">Type</div><p-sortIcon field="type"></p-sortIcon></div></th>
        <th pSortableColumn="network"><div class="inline-flex"><div class="mx-2 pb-2">Network</div><p-sortIcon field="network"></p-sortIcon></div></th>
        <th pSortableColumn="ip"><div class="inline-flex"><div class="mx-2 pb-2">IP Address</div><p-sortIcon field="ip"></p-sortIcon></div></th>
        <th pSortableColumn="brand"><div class="inline-flex"><div class="mx-2 pb-2">Brand</div><p-sortIcon field="brand"></p-sortIcon></div></th>
        <th pSortableColumn="ports"><div class="inline-flex"><div class="mx-2 pb-2">Ports</div><p-sortIcon field="ports"></p-sortIcon></div></th>
        <th class="text-right"><button class="cursor-pointer bg-blue-800 border border-blue-400 hover:bg-blue-900 px-14 py-1 rounded m-1" pButton pRipple label="New" icon="pi pi-plus" (click)="openNew()"></button>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-device>
      <tr class="text-center font-extralight">
        <td>{{ device.name }}</td>
        <td>{{ device.type }}</td>
        <td>{{ device.network }}</td>
        <td>{{ device.ip }}</td>
        <td>{{ device.brand }}</td>
        <td>{{ device.ports }}</td>
        <td class="text-right"><p-button class="cursor-pointer bg-green-600 border border-green-400 hover:bg-green-700 px-4 py-1 rounded m-1">Edit</p-button>
        <p-button class="cursor-pointer bg-red-600 border border-red-400 hover:bg-red-800 px-4 py-1 rounded m-1">Delete</p-button></td>
      </tr>
    </ng-template>
  </p-table>

  <p-dialog [(visible)]="deviceDialog" [style]="{ width: '450px' }" header="New Device" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
      <div class="field">
        <label for="name">Name</label>
        <input type="text" pInputText id="name" [(ngModel)]="device.name" required autofocus />
      </div>

      <div class="field">
        <label for="NetworkName">Network Name</label>
        <input type="text" pInputText id="NetworkName" [(ngModel)]="device.network" required autofocus />
      </div>

      <div class="field">
        <label class="mb-3">Type</label>
        <div class="formgrid grid">
          <div class="field-radiobutton col-6">
            <p-radioButton id="category1" name="category" value="Switch" [(ngModel)]="device.type"></p-radioButton>
            <label for="category1">Switch</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category2" name="category" value="Router" [(ngModel)]="device.type"></p-radioButton>
            <label for="category2">Router</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category3" name="category" value="Wifi AP" [(ngModel)]="device.type"></p-radioButton>
            <label for="category3">Wifi AP</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category4" name="category" value="Client" [(ngModel)]="device.type"></p-radioButton>
            <label for="category4">Client</label>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="mb-3">Brand</label>
        <div class="formgrid grid">
          <div class="field-radiobutton col-6">
            <p-radioButton id="category5" name="category" value="Cisco" [(ngModel)]="device.brand"></p-radioButton>
            <label for="category5">Cisco</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category6" name="category" value="Ubiquiti" [(ngModel)]="device.brand"></p-radioButton>
            <label for="category6">Ubiquiti</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category7" name="category" value="Aruba" [(ngModel)]="device.brand"></p-radioButton>
            <label for="category7">Aruba</label>
          </div>
          <div class="field-radiobutton col-6">
            <p-radioButton id="category8" name="category" value="Fortinet" [(ngModel)]="device.brand"></p-radioButton>
            <label for="category8">Fortinet</label>
          </div>
        </div>
      </div>

      <div class="formgrid grid">
        <div class="field col">
          <label for="ports">Ports</label>
          <p-inputNumber id="ports" [(ngModel)]="device.ports"></p-inputNumber>
        </div>
        <div class="field">
          <label for="ip">IP Address</label>
          <input type="text" pInputText id="ip" [(ngModel)]="device.ip" required autofocus />
        </div>
      </div>
    </ng-template>

    <ng-template pTemplate="footer">
      <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
      <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveProduct()"></button>
    </ng-template>
  </p-dialog>
</div>
